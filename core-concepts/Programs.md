# [Programs](https://solana.com/docs/core/programs)

在 Solana 生态系统中，“智能合约”被称为程序。每个程序都是一个链上账户，存储可执行逻辑，并组织成称为指令的特定功能。

## Key Points

- 程序是包含可执行代码的链上账户。此代码被组织成称为指令的不同功能。
- 程序是无状态的，但可以包含创建新账户的指令，用于存储和管理程序状态。
- 程序可以通过升级权限进行更新。当升级权限设置为空时，程序将变为不可变的。
- 程序可以通过升级权限进行更新。当升级权限设置为空时，程序将变为不可变的。
- 可验证的构建使用户能够验证链上程序是否与公开的源代码相匹配。

## Writing Solana Programs

Solana 程序主要用 Rust 编程语言编写，有两种常见的开发方法：

- Anchor：专为 Solana 程序开发而设计的框架。它提供了一种更快、更简单的编写程序的方式，使用 Rust 宏来显著减少样板代码。对于初学者，建议从 Anchor 框架开始。

- 原生 Rust：这种方法涉及用 Rust 编写 Solana 程序，而无需利用任何框架。它提供了更大的灵活性，但复杂性也随之增加。

## Updating Solana Programs

链上程序可以由指定为“升级权限”的账户直接修改，该账户通常是最初部署该程序的账户。

如果升级权限被撤销，设置为 None ，程序就变得不可变，无法再更新。

## Verifiable Programs

确保链上代码的完整性和可验证性至关重要。可验证构建可确保链上部署的可执行代码可由任何第三方独立验证是否与其公开源代码匹配。这一过程增强了透明度和信任度，从而可以检测源代码和部署程序之间的差异。

- Solana 开发者社区推出了支持可验证构建的工具，使开发者和用户能够验证链上程序是否准确反映其公开共享的源代码。

- 搜索已验证的程序：为了快速检查已验证的程序，用户可以在 SolanaFM Explorer 上搜索程序地址并导航到“验证”选项卡。在此处查看已验证程序的示例。

- 验证工具：Ellipsis Labs 的 Solana 可验证构建 CLI 使用户能够根据已发布的源代码独立验证链上程序。

  Anchor 中对可验证构建的支持：Anchor 内置了对可验证构建的支持。详细信息请参阅 Anchor 文档。

## Berkeley Packet Filter (BPF)

Solana 利用 LLVM 编译器基础架构将程序编译为可执行和可链接格式 (ELF) 文件。

这些文件包括针对 Solana 程序的伯克利数据包过滤器 (eBPF) 字节码的修改版本，称为“Solana 字节码格式”(sBPF)。

使用 LLVM 使得 Solana 能够支持任何可以编译为 LLVM 的 BPF 后端的编程语言。这大大增强了 Solana 作为开发平台的灵活性。



